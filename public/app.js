!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},i={},n={},r={}.hasOwnProperty,a=/^\.\.?(\/|$)/,s=function(t,e){for(var i,n=[],r=(a.test(e)?t+"/"+e:e).split("/"),s=0,o=r.length;s<o;s++)i=r[s],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(i){var n=s(o(e),i);return t.require(n,e)}},p=function(t,e){var n=y&&y.createHot(t),r={id:t,exports:{},hot:n};return i[t]=r,e(r.exports,c(t),r),r.exports},l=function(t){return n[t]?l(n[t]):t},u=function(t,e){return l(s(o(t),e))},d=function(t,n){null==n&&(n="/");var a=l(t);if(r.call(i,a))return i[a].exports;if(r.call(e,a))return p(a,e[a]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};d.alias=function(t,e){n[e]=t};var h=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,f=function(t){if(h.test(t)){var e=t.replace(h,"");r.call(n,e)&&n[e].replace(h,"")!==e+"/index"||(n[e]=t)}if(g.test(t)){var i=t.replace(g,"");r.call(n,i)||(n[i]=t)}};d.register=d.define=function(t,n){if(t&&"object"==typeof t)for(var a in t)r.call(t,a)&&d.register(a,t[a]);else e[t]=n,delete i[t],f(t)},d.list=function(){var t=[];for(var i in e)r.call(e,i)&&t.push(i);return t};var y=t._hmr&&new t._hmr(u,d,e,i);d._cache=i,d.hmr=y&&y.wrap,d.brunch=!0,t.require=d}}(),function(){"undefined"==typeof window?this:window;require.register("initialize.ts",function(t,e,i){"use strict";var n=e("./scenes/default"),r=e("./utils/scalemanager"),a=new Phaser.Game({width:1024,height:768,callbacks:{postBoot:function(){new r.ScaleManager(a,!a.device.os.windows&&!a.device.os.linux&&!a.device.os.macOS)}},type:Phaser.AUTO,parent:"content",title:"☕️ Brunch with Phaser",url:"https://github.com/samme/brunch-phaser-typescript",version:"0.0.1",banner:{background:["#e54661","#ffa644","#998a2f","#2c594f","#002d40"]},loader:{path:"assets/",maxParallelDownloads:6},physics:{"default":"arcade",arcade:{gravity:{y:180}}},scene:n.Main})}),require.register("scenes/default.ts",function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=e("./testSpace"),a=function(t){function e(){return t.call(this,{key:"Main"})||this}return n(e,t),e.prototype.preload=function(){this.scene.add("TestSpace",r.TestSpace,!0)},e.prototype.create=function(){},e}(Phaser.Scene);t.Main=a}),require.register("scenes/testSpace.ts",function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=e("../utils/manipulative/dotcard"),a=e("../utils/manipulative/numbertile"),s=e("../utils/dropzone"),o=e("../utils/background"),c=function(t){function e(){var e=t.call(this,{key:"TestSpace"})||this;return e.preload=function(){e.load.image("obstacle","obstacle.png"),e.load.image("manipulative","test_manipulative.png"),e.load.image("dropzone","dropzone.png"),e.load.image("plains","plain 2.jpg"),e.load.atlas("dotcards","atlas/dotCards.png","atlas/dotCards.json"),e.load.atlas("testing","atlas/megasetHD-1.png","atlas/megasetHD-1.json"),e.load.atlas("numbertiles","atlas/numberTiles.png","atlas/numberTiles.json"),e.load.audio("dropHit","sounds/dropHit.mp3",null,null),e.load.audio("dropMiss","sounds/dropMiss.mp3",null,null),e.load.audio("pickUp","sounds/pickUp.mp3",null,null)},e.create=function(){for(var t=(new o.Background(e,"plains"),[new s.DropZone(e,200,200,50,"DOTCARD"),new s.DropZone(e,200,350,50,"DOTCARD"),new s.DropZone(e,300,200,50,"NUMBERTILE"),new s.DropZone(e,300,300,50,"NUMBERTILE")]),i=0,n=t;i<n.length;i++){var c=n[i];c.render()}for(var p=[new r.DotCard(e,3,[t[0],t[1]]),new r.DotCard(e,4,[t[0],t[1]])],l=[new a.NumberTile(e,3,[t[2],t[3]]),new a.NumberTile(e,4,[t[2],t[3]])],u=0,d=p;u<d.length;u++){var h=d[u];h.dragSprite.setScale(.5)}for(var g=500,f=100,y=0,v=p;y<v.length;y++){var h=v[y];h.render(f,g),f+=100}for(var m=0,S=l;m<S.length;m++){var w=S[m];w.render(f,g),f+=100}},e}return n(e,t),e}(Phaser.Scene);t.TestSpace=c}),require.register("utils/background.ts",function(t,e,i){"use strict";var n=function(){function t(t,e){this.targetScene=t,this.targetScene.add.image(0,0,e).setOrigin(0,0)}return t}();t.Background=n}),require.register("utils/dropzone.ts",function(t,e,i){"use strict";var n=function(){function t(t,e,i,n,r){this.targetScene=t,this.x=e,this.y=i,this.pullRadius=n,this.acceptedType=r}return t.prototype.render=function(){switch(this.dropZone=this.targetScene.add.sprite(this.x,this.y,"dropzone"),this.dropZone.setAlpha(.6),this.targetScene.tweens.add({targets:[this.dropZone],alpha:.4,duration:500,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.acceptedType){case"BAR":break;case"DOTCARD":console.log("DOTCARD"),this.dropZone.displayWidth=75,this.dropZone.displayHeight=100;break;case"NUMBERTILE":this.dropZone.displayWidth=60,this.dropZone.displayHeight=60}},t.prototype.checkBounds=function(t,e,i){return t<this.x+this.dropZone.displayWidth&&t>this.x-this.dropZone.displayWidth&&e<this.y+this.dropZone.displayHeight&&e>this.y-this.dropZone.displayHeight&&i.type==this.acceptedType},t}();t.DropZone=n}),require.register("utils/manipulative/bar.ts",function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=e("./manipulatives"),a=function(t){function e(e,i,n,a,s,o,c,p){return t.call(this,e,i,r.ManipulativeType.BAR,n,a)||this}return n(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i)},e}(r.Manipulative);t.Bar=a}),require.register("utils/manipulative/dotcard.ts",function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=e("./manipulatives"),a=function(t){function e(e,i,n,a,s,o,c){var p=this,l=i.toString(),u=e.add.sprite(0,0,"dotcards",l);return p=t.call(this,e,i,r.ManipulativeType.DOTCARD,u,n)||this}return n(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i)},e}(r.Manipulative);t.DotCard=a}),require.register("utils/manipulative/manipulatives.ts",function(t,e,i){"use strict";var n=e("../soundmanager"),r=function(){function t(t,e,i,r,s,o,c,p,l){this.isDragging=!1,this.startDragMS=0,this.minDragDelay=200,this.targetScene=t,this.value=e,this.type=i,this.dragSprite=r,this.onClick=o,this.onPointerDown=c,this.onPointerOver=p,this.onPointerOut=l,this.dragPoints=s,this.dragSprite=r,this.type==a.DOTCARD?this.originalScale=.5:this.originalScale=this.dragSprite.scaleX,this.dragSprite.visible=!1,this.soundManager=new n.SoundManager(this.targetScene,["pickUp","dropHit","dropMiss"])}return t.prototype.clickAndFollow=function(t,e,i){var n=this;this.dragSprite=t,t.on("pointerdown",function(){n.isDragging?n.stopDrag(e,i):n.startDrag()}),t.on("pointerup",function(){if(n.isDragging){var t=Date.now()-n.startDragMS;t>n.minDragDelay&&n.stopDrag(e,i)}}),this.targetScene.input.on("pointermove",function(e){n.isDragging&&(t.x=e.x,t.y=e.y)})},t.prototype.startDrag=function(){this.isDragging||(this.soundManager.play("pickUp"),this.dragSprite.setScale(1.25*this.originalScale),this.dragSprite.setDepth(100),this.isDragging=!0,this.targetScene.input.mouse.requestPointerLock(),this.startDragMS=Date.now())},t.prototype.stopDrag=function(t,e){for(var i=!1,n=0;n<this.dragPoints.length;n++)if(this.dragPoints[n].checkBounds(this.dragSprite.x,this.dragSprite.y,this))if(this.dragPoints[n].manipulativeInZone){console.log("found manipulative in spot, switching...");var r=this.dragPoints[n].manipulativeInZone;r.dragSprite.x=r.originalX,r.dragSprite.y=r.originalY,this.soundManager.play("dropHit"),this.dragSprite.x=this.dragPoints[n].x,this.dragSprite.y=this.dragPoints[n].y,this.dragPoints[n].manipulativeInZone=this,i=!0}else this.soundManager.play("dropHit"),this.dragSprite.x=this.dragPoints[n].x,this.dragSprite.y=this.dragPoints[n].y,this.dragPoints[n].manipulativeInZone=this,i=!0;else this.dragPoints[n].manipulativeInZone=void 0;i||(this.soundManager.play("dropMiss"),this.dragSprite.x=t,this.dragSprite.y=e),this.dragSprite.setScale(this.originalScale),this.dragSprite.setDepth(0),this.targetScene.input.mouse.releasePointerLock(),console.log("drop"),this.isDragging=!1},t.prototype.activateOnMouseOver=function(){},t.prototype.render=function(t,e,i){this.originalX=t,this.originalY=e,this.dragSprite.visible=!0,this.dragSprite.x=t,this.dragSprite.y=e,this.dragSprite.setInteractive(),this.origScale=this.dragSprite.scale;this.clickAndFollow(this.dragSprite,t,e),this.activateOnMouseOver()},t}();t.Manipulative=r;var a;!function(t){t[t.BAR="BAR"]="BAR",t[t.DOTCARD="DOTCARD"]="DOTCARD",t[t.NUMBERTILE="NUMBERTILE"]="NUMBERTILE"}(a=t.ManipulativeType||(t.ManipulativeType={}))}),require.register("utils/manipulative/numbertile.ts",function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=e("./manipulatives"),a=function(t){function e(e,i,n,a,s,o,c){var p=this,l=i.toString(),u=e.add.sprite(0,0,"numbertiles",l+"_tex.png");return p=t.call(this,e,i,r.ManipulativeType.NUMBERTILE,u,n)||this}return n(e,t),e.prototype.render=function(e,i){t.prototype.render.call(this,e,i)},e}(r.Manipulative);t.NumberTile=a}),require.register("utils/scalemanager.ts",function(t,e,i){"use strict";var n=function(){function t(t,e){var i=this;this.canvas=t.canvas,this.mobile=e,this.game=t,window.addEventListener("resize",function(){i.rescale(),i.mobile&&(window.innerWidth<window.innerHeight?i.leaveIncorrectOrientation():i.enterIncorrectOrientation())}),this.rescale()}return t.prototype.resize=function(t,e){this.game.resize(t,e),this.game.scene.scenes.forEach(function(i){i.cameras.main.setViewport(0,0,t,e),i.cameras.main.setZoom(this.scale)}),this.rescale()},t.prototype.rescale=function(){var t="50% 50%",e=Math.min(window.innerWidth/this.canvas.width,window.innerHeight/this.canvas.height);this.canvas.height*e;this.canvas.setAttribute("style","-ms-transform-origin: "+t+"; -webkit-transform-origin: "+t+"; -moz-transform-origin: "+t+"; -o-transform-origin: "+t+"; transform-origin: "+t+"; -ms-transform: scale("+e+"); -webkit-transform: scale3d("+e+", 1); -moz-transform: scale("+e+"); -o-transform: scale("+e+");  transform: scale("+e+"); display: block; margin: 0; padding: 0; vertical-align: baseline;")},t.prototype.enterIncorrectOrientation=function(){document.getElementById("orientation").style.display="block",document.getElementById("content").style.display="none"},t.prototype.leaveIncorrectOrientation=function(){document.getElementById("orientation").style.display="none",document.getElementById("content").style.display="block"},t}();t.ScaleManager=n}),require.register("utils/soundmanager.ts",function(t,e,i){"use strict";var n=function(){function t(t,e){this.sounds=[],this.targetScene=t,this.soundKeys=e;for(var i=0;i<e.length;i++)this.sounds.push(t.sound.add(e[i]));t.load.once("filecomplete",this.doneLoad)}return t.prototype.doneLoad=function(){console.log("a file is done loading")},t.prototype.play=function(t){var e=this.soundKeys.indexOf(t);e>=0?this.sounds[e].play():console.log("audio not found:",t)},t}();t.SoundManager=n}),require.register("___globals___",function(t,e,i){})}(),require("___globals___"),require("initialize");