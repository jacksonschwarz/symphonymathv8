{"version":3,"sources":["app/initialize.ts","app/scenes/default.ts","app/scenes/testSpace.ts","app/utils/manipulatives.ts"],"names":[],"mappings":"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","file":"public/app.js","sourcesContent":["import {Main} from './scenes/default';\n\nconst game = new Phaser.Game(<any>{ // <any> works around the missing GameConfig.physics definition\n  // See <https://github.com/photonstorm/phaser/blob/master/src/boot/Config.js>\n  width: 800,\n  height: 600,\n  // zoom: 1,\n  // resolution: 1,\n  type: Phaser.AUTO,\n  // parent: null,\n  // canvas: null,\n  // canvasStyle: null,\n  // seed: null,\n  title: '☕️ Brunch with Phaser', // 'My Phaser 3 Game'\n  url: 'https://github.com/samme/brunch-phaser-typescript',\n  version: '0.0.1',\n  // input: {\n  //   keyboard: true,\n  //   mouse: true,\n  //   touch: true,\n  //   gamepad: false\n  // },\n  // disableContextMenu: false,\n  // banner: false\n  banner: {\n    // hidePhaser: false,\n    // text: 'white',\n    background: ['#e54661', '#ffa644', '#998a2f', '#2c594f', '#002d40']\n  },\n  // fps: {\n  //   min: 10,\n  //   target: 60,\n  //   forceSetTimeout: false,\n  // },\n  // pixelArt: false,\n  // transparent: false,\n  // clearBeforeRender: true,\n  // backgroundColor: 0x000000, // black\n  loader: {\n    // baseURL: '',\n    path: 'assets/',\n    maxParallelDownloads: 6,\n    // crossOrigin: 'anonymous',\n    // timeout: 0\n  },\n  physics: {\n    default: 'arcade',\n    arcade: {\n      gravity: {\n        y: 180\n      }\n    }\n  },\n  scene: Main,\n\n});\n","import {TestSpace} from \"./testSpace\"\nexport class Main extends Phaser.Scene{\n  constructor(){\n      super({\n          key:\"Main\"\n      })\n  }\n  preload(){\n    this.scene.add(\"TestSpace\", TestSpace, true);\n  }\n  create(){\n    this.add.text(100, 100, \"Hello, world!\")\n  }\n}","import {Manipulative, Bar} from \"../utils/manipulatives\";\nexport class TestSpace extends Phaser.Scene{\n    constructor(){\n        super({\n            key:\"TestSpace\"\n        })\n    }\n    preload=()=>{\n        this.load.image(\"obstacle\", \"obstacle.png\")\n        this.load.image(\"manipulative\", \"test_manipulative.png\");\n        this.load.atlas(\"dotcards\", \"atlas/dotcards.png\", \"atlas/dotcards.json\")\n        this.load.atlas(\"testing\", \"atlas/megasetHD-1.png\", \"atlas/megasetHD-1.json\")\n        this.load.audio(\"dropHit\", \"sounds/dropHit.mp3\", null, null)\n        this.load.audio(\"dropMiss\", \"sounds/dropMiss.mp3\", null, null)\n        this.load.audio(\"pickUp\", \"sounds/pickUp.mp3\", null, null)\n\n    }\n    create=()=>{\n        this.add.text(100, 200, \"Try to drag and drop the white bar onto the red circle:\");\n        this.add.image(400, 400, \"obstacle\");\n        let bar=new Bar(this, 10, \"manipulative\", {x:400, y:400, pullRadius:50, acceptedType:\"BAR\"});\n        bar.render(300, 300);\n    }\n}","export class Manipulative{\n    targetScene:any;\n    value:number;\n    type: ManipulativeType | string;\n    resourceKey:string;\n    onClick:()=>void;\n    onPointerDown:()=>void;\n    onPointerOver:()=>void;\n    onPointerOut:()=>void;\n\n    dragPoint:{\n        x:number,\n        y:number,\n        pullRadius:number\n        acceptedType:string | ManipulativeType\n    }\n\n    constructor(\n        theTargetScene:any,\n        aValue:number,\n        aType:ManipulativeType | string,\n        aResource:string,\n        aDragPoint:{\n            x:number,\n            y:number,\n            pullRadius:number,\n            acceptedType:string | ManipulativeType\n        },\n        clickCallback?:()=>void,\n        pointerdownCallback?:()=>void,\n        pointeroverCallback?:()=>void,\n        pointeroutCallback?:()=>void\n    ){\n        this.targetScene=theTargetScene;\n        this.value=aValue;\n        this.type=aType;\n        this.resourceKey=aResource;\n        this.onClick=clickCallback;\n        this.onPointerDown=pointerdownCallback;\n        this.onPointerOver=pointeroverCallback;\n        this.onPointerOut=pointeroutCallback;\n        this.dragPoint=aDragPoint;\n    }\n \n    isDragging:boolean=false;\n    startDragMS:number=0;\n    minDragDelay:number=400;\n    origScale:number;\n    dragSprite;\n    pickUp;\n    dropHit;\n    dropMiss;\n\n    private clickAndFollow(dragSprite, originX, originY){\n        this.dragSprite = dragSprite;\n        dragSprite.on(\"pointerdown\", ()=>{\n            if(!this.isDragging){\n                this.startDrag();\n             } else {\n                this.stopDrag();\n            }\n        })\n        dragSprite.on(\"pointerup\", ()=>{\n            if (this.isDragging) {\n                var timeLapse:number = Date.now() - this.startDragMS;\n                //var inOrigArea:boolean = this.checkBounds(dragSprite.x, dragSprite.y);    \n                if(timeLapse>this.minDragDelay){\n                    this.stopDrag();\n                }   \n            }\n          \n         })\n\n        this.targetScene.input.on(\"pointermove\", (pointer)=>{\n            if(this.isDragging){\n                dragSprite.x=pointer.x;\n                dragSprite.y=pointer.y;\n            }\n        })\n    }\n    private checkBounds(x, y){\n        if((x >= this.dragPoint.x-this.dragPoint.pullRadius && x <= this.dragPoint.x+this.dragPoint.pullRadius) \n        && (y >=this.dragPoint.y-this.dragPoint.pullRadius && y <=this.dragPoint.y+this.dragPoint.pullRadius)){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n    private startDrag() {\n        console.log(\"pointer down, starting follow....\");\n        this.pickUp.play();\n        //this.dragSprite.setScale(this.origScale *1.3);\n        this.isDragging=true;\n        this.startDragMS = Date.now();                \n    }\n    private stopDrag() {\n        console.log(\"pointer up, cancelling follow\");\n        //dragSprite.x=this.dragPoint.x;\n        //dragSprite.y=this.dragPoint.y;\n        //this.dragSprite.setScale(this.origScale);\n        this.dropHit.play();\n        this.isDragging=false;\n    }\n    render(x, y, scale?){\n        console.log(\"render called!\")\n        this.dragSprite = this.targetScene.add.sprite(x, y, this.resourceKey);\n        this.dragSprite.setInteractive();\n        this.origScale = this.dragSprite.scale;\n        console.log(this.origScale);\n        this.pickUp=this.targetScene.sound.add(\"pickUp\");\n        this.dropHit=this.targetScene.sound.add(\"dropHit\");\n        this.dropMiss=this.targetScene.sound.add(\"dropMiss\");\n        let isDragging=false;\n        this.clickAndFollow(this.dragSprite,x,y);\n    }\n\n}\nenum ManipulativeType{\n    BAR=\"BAR\",\n    DOTCARD=\"DOTCARD\",\n}\nexport class Bar extends Manipulative {\n\n    constructor(        \n        theTargetScene:any,\n        aValue:number,\n        aResource:string,\n        aDragPoint:{\n            x:number,\n            y:number,\n            pullRadius:number,\n            acceptedType:string | ManipulativeType\n        },\n        clickCallback?:()=>void,\n        pointerdownCallback?:()=>void,\n        pointeroverCallback?:()=>void,\n        pointerupCallback?:()=>void,){\n        super(theTargetScene, aValue, ManipulativeType.BAR, aResource, aDragPoint);\n\n        \n    }\n    //bar specific rendering method\n    render(x, y){\n        super.render(x, y);\n    }\n\n}\n\n"]}